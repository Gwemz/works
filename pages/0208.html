<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link datareacthelmet="true"
          rel="shortcut icon"
          type="image/png"
          href="../imgs/favicon.ico">
    <!--<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">-->
    <link href="https://cdn.bootcss.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" rel="stylesheet">
    <title>分页功能实现</title>
</head>
<!--
    插件参考文档：http://jqpaginator.keenwon.com/
-->
<style>
    body{padding-top:50px;}
    li a.page-link{color:#0a0a0a;}
    li.active a{background:#e9ecef;color:#007bff;}
    #text{margin-bottom:20px;}
    ::selection {
        background:#222;
        color:#fff;
    }
</style>
<body>
    <div class="container">
        <div id="text"></div>
        <nav aria-label="Page navigation example">
            <ul class="pagination" id="demo1">

            </ul>
        </nav>
    </div>
</body>
<script src="../js/jquery.min.js"></script>
<script src="../js/jqPaginator.js"></script>
<script>
$(function () {
    function nowtime(){//将当前时间转换成yyyymmdd格式
        var mydate = new Date();
        var str = "" + mydate.getFullYear();
        var mm = mydate.getMonth()+1
        if(mydate.getMonth()>9){
            str += mm;
        }
        else{
            str += "0" + mm;
        }
        if(mydate.getDate()>9){
            str += mydate.getDate();
        }
        else{
            str += "0" + mydate.getDate();
        }
        return str;
    }
    var time = nowtime();

    $('#demo1').jqPaginator({
        totalPages: 100,
        visiblePages: 10,
        currentPage: 1,
        totalCounts:9,
        onPageChange: function (num, type) {
            console.log(num,type);
            $.ajax({
                type:"get",
                async:true,
                url:'https://interface.meiriyiwen.com/article/random?dev=1',
                dataType : "json",
                success:function (data) {
                    var data = data.data;
                    console.log(data.date);
                    $('#text').html('<h3>'+ data.title +'</h3>'+ data.author +'<br>'+ data.content +'<br>')
                    time = data.date.prev;
                }
            })
        }
    });
})
</script>
</html>