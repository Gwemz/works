{"version":3,"sources":["../src/async.js"],"names":["readAsync","data","JSON","parse","console","log","name","init","fs","require","util","promisify","readFile"],"mappings":";;;;;;;;;;;sFA4DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACqBA,UAAU,gBAAV,CADrB;;AAAA;AACQC,gBADR;;AAEIA,mBAAOC,KAAKC,KAAL,CAAWF,IAAX,CAAP;AACAG,oBAAQC,GAAR,CAAYJ,KAAKK,IAAjB;;AAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,I;;;;;;;AA5Df,IAAMC,KAAKC,QAAQ,IAAR,CAAX;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;;AAEA,IAAMT,YAAYU,KAAKC,SAAL,CAAeH,GAAGI,QAAlB,CAAlB;;AAQAL","file":"async.js","sourcesContent":["const fs = require('fs');\r\n\r\n// 第一阶段  回调函数\r\n\r\n// function readFile(cb){\r\n//     fs.readFile('../package.json',(err,data) => {\r\n//         if(err) return cb(err)\r\n\r\n//         cb(null,data)\r\n//     })\r\n// }\r\n\r\n// readFile((err, data) => {\r\n//     if (!err) {\r\n//       data = JSON.parse(data)\r\n  \r\n//       console.log(data.name)\r\n//     }\r\n// })\r\n\r\n// 第二阶段 Promise\r\n\r\n// function readFileAsync (path) {\r\n//     return new Promise((resolve, reject) => {\r\n//       fs.readFile(path, (err, data) => {\r\n//         if (err) reject(err)\r\n//         else resolve(data)\r\n//       })\r\n//     })\r\n// }\r\n  \r\n// readFileAsync('./package.json')\r\n//     .then(data => {\r\n//         data = JSON.parse(data)\r\n\r\n//         console.log(data.name)\r\n//     })\r\n//     .catch(err => {\r\n//         console.log(err)\r\n//     })\r\n\r\n// 第三阶段 co + Generator Function + promise\r\n\r\n// const co = require('co')\r\n// const util = require('util')\r\n\r\n// co(function *() {\r\n//   let data = yield util.promisify(fs.readFile)('./package.json')\r\n\r\n//   data = JSON.parse(data)\r\n\r\n//   console.log(data.name)\r\n// })\r\n\r\n// 第四阶段  Async 统一世界\r\n\r\nconst util = require('util')\r\n\r\nconst readAsync = util.promisify(fs.readFile)\r\n\r\nasync function init (){\r\n    let data = await readAsync('./package.json');\r\n    data = JSON.parse(data)\r\n    console.log(data.name);\r\n}\r\n\r\ninit()"]}